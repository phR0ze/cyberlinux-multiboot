# MIT License
# Copyright (c) 2017-2021 phR0ze
# 
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
# 
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
# 
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.

#-------------------------------------------------------------------------------
# Maintainer: phR0ze
#-------------------------------------------------------------------------------
pkgbase=cyberlinux-openbox
pkgname=(
    "${pkgbase}-lite"
    "${pkgbase}-server"
    "${pkgbase}-netbook"
    "${pkgbase}-theater"
    "${pkgbase}-desktop"
    "${pkgbase}-laptop"
    "${pkgbase}-live"
)
pkgver=0
pkgrel=1
pkgdesc='Configuration packages for the cyberlinux openbox profile'
arch=('any')
license=('MIT')
url="https://github.com/phR0ze/cyberlinux/blob/master/profiles/openbox"

# Configure environment
shopt -s dotglob
shopt -s extglob
_none="\e[m"
_cyan="\e[1;36m"

pkgver()
{
  cat "${startdir}/../VERSION"
}

# Because were running the makepkg in a container at a specific location
# the staging location is /home/build/PKG
pkg()
{
  local name=$1                       # e.g. core
  install=$name.install               # Specific installer script for deployment package
  local configs="${startdir}/${name}" # /home/build/profiles/openbox/core i.e. inside container

  if [ -d "${configs}" ]; then
    msg "${_cyan}Installing '${name}' configuration files${_none}"
    cp -a "$configs"/* "${pkgdir}"
  fi
}

package_cyberlinux-openbox-lite()
{
  pkgdesc="Lite x11 system - a building block specialized x11 deployments"
  depends=(
    "cyberlinux-standard-shell>=${pkgver}"

    # xorg
    'xf86-input-libinput'       # x.org generic input driver, group: xorg-drivers
    'xf86-video-vesa'           # x.org vesa video driver, group: xorg, xorg-drivers
    'xorg-bdftopcf'             # Convert X font from Bitmap to PNG, group: xorg, xorg-apps
    'xorg-docs'                 # X.org documentation, group: xorg
    'xorg-font-util'            # X.org font utilities, group: xorg
    'xorg-fonts-100dpi'         # X.org 100dpi fonts, group: xorg
    'xorg-fonts-75dpi'          # X.org 75dpi fonts, group: xorg
    'xorg-fonts-encodings'      # X.org font encoding files, group: xorg
    'xorg-iceauth'              # ICE authority file utility, gruop: xorg
    'xorg-mkfontscale'          # Create an index of scalable font files for X, group: xorg, xorg-apps
    'xorg-server'               # Xorg X server, group: xorg
    'xorg-server-common'        # Xorg X server common files, group: xorg
    'xorg-server-devel'         # Development files for X.org X server, group: xorg
    'xorg-server-xephyr'        # A nested X server that runs as an X application, group: xorg
    'xorg-server-xnest'         # A nested X server that runs as an X application, group: xorg
    'xorg-server-xvfb'          # Virtual framebuffer X server, group: xorg
    'xorg-sessreg'              # Register X sessions in system utmp/utmpx database, group: xorg
    'xorg-setxkbmap'            # Set the keyboard using the X Keyboard Extension, group: xorg, xorg-apps
    'xorg-smproxy'              # Allows X applications that do not support X11R6 session, group: xorg
    'xorg-x11perf'              # Simple X server performance benchmarker, group: xorg
    'xorg-xauth'                # X.Org authorization settings program, group: xorg, xorg-apps
    'xorg-xbacklight'           # RandR-based backlight control application, group: xorg
    'xorg-xcmsdb'               # Device Color Characterization utility for X Color Management System, group: xorg
    'xorg-xcursorgen'           # Create an X cursor file from PNG images, group: xorg, xorg-apps
    'xorg-xdpyinfo'             # Display information utility for X, group: xorg, xorg-apps
    'xorg-xdriinfo'             # Query configuration information of DRI drivers
    'xorg-xev'                  # Print contents of X events, group: xorg, xorg-apps
    'xorg-xgamma'               # Alter a monitor's gamma correction, group: xorg
    'xorg-xhost'                # Server access control program for X, group: xorg
    'xorg-xinput'               # Small commandline tool to configure devices, group: xorg, xorg-apps
    'xorg-xkbcomp'              # X Keyboard description compiler, group: xorg, xorg-apps
    'xorg-xkbevd'               # XKB event daemon, group: xorg, xorg-apps
    'xorg-xkbutils'             # XKB utility demos, group: xorg, xorg-apps
    'xorg-xkill'                # Kill a client by its X resource, group: xorg, xorg-apps
    'xorg-xlsatoms'             # List interned atoms defined on server, group: xorg
    'xorg-xlsclients'           # List client applications running on a display, group: xorg
    'xorg-xmodmap'              # Utility for modifying keymaps and button mappings, group: xorg, xorg-apps
    'xorg-xpr'                  # Print an X window dump from xwda, group: xorg
    'xorg-xprop'                # Property displayer for X, group: xorg, xorg-apps
    'xorg-xrandr'               # Primitive command line interface to RandR extension, group: xorg, xorg-apps
    'xorg-xrdb'                 # X server resource database utility, group: xorg
    'xorg-xrefresh'             # Refresh all or part of an X screen, group: xorg
    'xorg-xset'                 # User preference utility for X, group: xorg, xorg-apps
    'xorg-xsetroot'             # X utility to set your root window background to a pattern or color, group: xorg
    'xorg-xvinfo'               # Prints out the capabilities of any video adaptors, group: xorg
    'xorg-xwayland'             # Run X clients under wayland, group: xorg
    'xorg-xwd'                  # X Window System image dumping utility, group: xorg
    'xorg-xwininfo'             # Command-line util to print info about windows, group: xorg, xorg-apps
    'xorg-xwud'                 # X Window System image undumping utility, group: xorg

    # opengl
    'libglvnd'                  # GL Vendor-Neutral Dispatch, depof: mesa
    'lib32-mesa'                # OpenGL opensource implementation, depof: kodi, steam
    'lib32-mesa-vdpau'          # Mesa vdpau drivers, depof: kodi,steam
    'mesa'                      # Open-source OpenGL implementation
    'mesa-demos'                # Mesa demos and tools e.g glxinfo, glxgears
    'mesa-vdpau'                # Mesa vdpau drivers, depof: kodi, steam

    # lxde
    'lxde-common'               # Common files of the LXDE Desktop, group: lxde
    'lxdm'                      # Lightweight display manager, xorg: lxde
    'lxhotkey'                  # Keyboard shortcuts configurator, xorg: lxde
    'lxinput'                   # Keyboard and mouse configuration utility, group: lxde
    'lxrandr'                   # Monitor configuration tool, group: lxde
    'lxsession'                 # Enable .desktop files in ~/.config/autostart, /etc/xdg/autostart, group: lxde
    'lxterminal'                # Terminal for LXDE, alt: terminator, group: lxde
    'arcologout'                # Simple clean logout overlay from, repo: cyberlinux
    'openbox'                   # Lightweight X11 window manager, group: lxde
    'xdg-user-dirs'             # Manage user directories like ~/Desktop
    'xdg-utils'                 # Desktop integration utilities

    # themes and theme tools
    'gtk-engines'               # GTK theme engines for cyberlinux theme
    'gtk-engine-murrine'        # GTK theme engine for cyberlinux theme
    'lxappearance'              # Feature-rich GTK+ theme switcher of the LXDE Desktop, group: lxde
    'lxappearance-obconf'       # Plugin for LXAppearance to configure Openbox, group: lxde
    'numix-frost-themes'        # Numix frost GTK2, GTK3 and OpenBox themes, repo: cyberlinux
    'paper-icon-theme'          # Paper icon theme, git version is fixed, repo: cyberlinux
    'xcursor-numix-frost'       # Numix frost cursor theme, repo: cyberlinux

    # file manager utilities
    'gvfs'                      # Support for Trash and USB, depof: thunar-volman
    'file-roller'               # System/Compression integrates well in Thunar
    'ffmpegthumbnailer'         # Lightweight video thumbnailer that can be used by file managers
    'thunar'                    # Lightweight File Manager from Xfce
    'thunar-archive-plugin'     # Thunar integration with file-roller
    'thunar-media-tags-plugin'  # Thunar plugin to view media details
    'thunar-volman'             # Thunar plugin to automatically manage removeable devices
    'tumbler'                   # D-Bus thumbnail service for Thunar

    # utilities
    'dconf'                     # A low-level configuration system
    'dconf-editor'              # General configuration manager that replaces gconf
    'desktop-file-utils'        # Command line utilities for working with desktop entries
    'imagescan'                 # EPSON Image Scan v3 front-end for scanners and all-in-ones
    'imagescan-plugin-networkscan' # Plugin for using Epson scanners with Image scan v3 over network
    'nitrogen'                  # Lightweight wallpaper manager
    'paprefs'                   # Configuration dialog for pulse audio
    'pavucontrol'               # PulseAudio Volume Control
    'pnmixer'                   # Volume controls in system tray, repo: cyberlinux
    'pulseaudio-alsa'           # ALSA Configuration for PulseAudio
    'tint2'                     # Lightweight taskmanager and system tray
    'wmctrl'                    # Control your EWMH compliant window manager from command line
    'xsel'                      # Tool for getting/setting X selection
    'xterm'                     # X terminal emulator

    # virtualbox-guest
    'virtualbox-guest-utils'    # VirtualBox guest drivers/utilities

    # Utils
    'dmenu'                     # Super light weight application runner
    'galculator'                # Office/Calculator
    'gsimplecal'                # Simple calendar like windows systray calendar
    'gtk2fontsel'               # Simple font viewer
    'filelight'                 # View disk usage information
    'powerline'                 # Status line plugin for bash
    'powerline-fonts'           # Powerline font symbols
    'powerline-gitstatus'       # Powerline plugin for git status, repo: cyberlinux
    'xfce4-screenshooter'       # Plugin that makes screenshots for the Xfce panel

    # Media
    'audacious'                 # Lightweight advanced audio player
    'dvdbackup'                 # Tool to rip video DVDs from the command line
    'flac'                      # Free lossless audio codec
    'gpicview'                  # Image viewer, alt: shotwell, viewnior
    'lame'                      # High quality MPEG layer III audio encoder
    'parallel'                  # Shell tool for executing jobs in parallel
    'qt5-base'                  # A cross-platform application and UI framework, depof: mkvtoolnix-gui
    'smplayer'                  # UI wrapper around mplayer with click to pause, alt: vlc
    'smplayer-skins'            # Skins for SMPlayer
    'smplayer-themes'           # Themes for SMPlayer
    'vlc'                       # Multi-platform MPEG, VCD/DVD, and DivX player
    'winff'                     # GUI for ffmpeg, repo: cyberlinux
    'xnviewmp'                  # A digital photo organizer, repo: cyberlinux

    # Network
    'firefox'                   # Standalone web browser from mozilla.org 
    'filezilla'                 # Network/Transfer
    'openvpn'                   # An easy-to-use, robust and highly configurable VPN (Virtual Private Network)
    'vopono'                    # Run applications through VPN connections in network namespaces, repo: cyberlinux
    'openvpn-update-systemd-resolved' # OpenVPN systemd-resolved updater, repo: cyberlinux

    # Office
    'evince'                    # Document viewer for PDF, djvu, tiff, dvi, XPS, cbr, cbz, cb7, cbt
    'geany'                     # Fast and lightweight IDE
    'geany-plugins'             # Plugins for Geany
    'keepass'                   # Password manager written in .net

    # Media-codecs
    'gst-libav'                 # GStreamer libav Plugin
    'gst-plugins-bad'           # GStreamer Bad Plugins
    'gst-plugins-base'          # GStreamer Base Plugins
    'gst-plugins-good'          # GStreamer Good Plugins
    'gst-plugins-ugly'          # GStreamer Ugly Plugins
    'libdvdcss'                 # DVD media codec support
    'x264'                      # Open Source H264/AVC video encoder, depof: smplayer

    # X11-fonts
    'adobe-source-code-pro-fonts'  # Mono-spaced coding environments
    'terminus-font'             # Monospace bitmap font for consoles
    'ttf-bitstream-vera'        # Bitstream vera fonts
    'ttf-dejavu'                # Bitstream Vera Fonts w/more characters
    'ttf-droid'                 # Google Android general purpose fonts
    'ttf-google-fonts-fun'      # Handful of fun fonts from the Google Fonts project, repo: cyberlinux
    'ttf-google-fonts-work'     # 40 best fonts from the Google Fonts project, repo: cyberlinux
    'ttf-hack'                  # Hand groomed/optically balanced typeface based on Bitstream Vera Mono
    'ttf-inconsolata-g'         # Best monospace terminal font, repo: cyberlinux
    'ttf-indic-otf'             # Indic Opentype Fonts collection
    'ttf-liberation'            # Red Hats Liberation fonts. 
    'ttf-nerd-fonts-symbols'    # Nerd Font Symbols, repo: cyberlinux
  ) 
  pkg lite
}

package_cyberlinux-openbox-server()
{
  pkgdesc="Server x11 system - built on the lite deployment adding server apps"
  depends=(
    "cyberlinux-openbox-lite>=${pkgver}"

    # Utils
    'docker'                    # Pack, ship and run any application as a lightweight container
    'systemd-docker'            # Wrapper for "docker run" to handle systemd quirks, repo: cyberlinux

    # Media
    'handbrake'                 # Video encoding tool for mp4/mkv
    'handbrake-cli'             # Video encoding tool for mp4/mkv
    'mkvtoolnix-gui'            # Set of tools to create, edit and inspect MKV files

    # Network
    'qbittorrent'               # BitTorrent client written in C++, based on Qt and libtorrent-rasterbar
    'tiny-media-manager'        # Cross platform media manager, repo: cyberlinux

    # Personal use only licensing restriction
    'teamviewer'                # Excellent remoting software
  )
  pkg server
}

package_cyberlinux-openbox-netbook()
{
  pkgdesc="Netbook x11 system - built on the lite deployment adding productivity apps"
  depends=(
    "cyberlinux-openbox-lite>=${pkgver}"

    # Utils
    'android-tools'             # Android platform tools
    'gvfs-mtp'                  # Android phone storage automount on plug-in
    'i3lock-color'              # Simple lightweight screen locker
    'conky'                     # Lightweight system monitor for X
    'light'                     # Control laptop backlights both screen and keyboard

    # Media
    'gimp'                      # Excellent image editor

    # Office
    'hunspell-en_US'            # US dictionaries for spell checking
    'libreoffice-fresh'         # Libreoffice with new features and enhancments
    'pdfmod'                    # Simple PDF editor

    # Network
    'blueman'                   # Bluetooth management tool
    'pulseaudio-bluetooth'      # Pulse Audio plugin for bluetooth output
    'freerdp'                   # RDP client plugin for remmina
    'remmina'                   # Nice remoting UI for RDP and other protocols
    'wpa_gui'                   # A Qt frontend to wpa_supplicant, repo: cyberlinux
    'wpa_supplicant'            # A utility providing key negotiation for WPA wireless networks
  )
  pkg netbook
}

package_cyberlinux-openbox-theater()
{
  pkgdesc="Theater system - a lean back entertainment experience"
  depends=(
    "cyberlinux-openbox-netbook>=${pkgver}"

    'guake'                     # Drop-down python based guake style terminal
    'idesk'                     # Lightweight desktop icons for X
    'kodi'                      # A software media player and entertainment hub for digital media

    # Personal use only licensing restriction
    'teamviewer'                # Excellent remoting software
  )
  pkg theater
}

package_cyberlinux-openbox-desktop()
{
  pkgdesc="Full desktop system - built on top of netbook with additional media and productivity apps"
  depends=(
    "cyberlinux-openbox-netbook>=${pkgver}"

    # Utils
    'catfish'                   # System/File Search - File search tool
    'cyberlinux-plank'          # Light weight, simple clean app dock
    'docker'                    # Pack, ship and run any application as a lightweight container
    'gnome-multi-writer'        # Write an ISO file to multiple USB devices at once
    'guake'                     # Drop-down python based guake style terminal
    'picom'                     # X compositor fork of comptom
    'systemd-docker'            # Wrapper for "docker run" to handle systemd quirks, repo: cyberlinux

    # Printing
    'cups-pdf'                  # System/Printer Driver with PDF print support
    'epson-inkjet-printer-escpr2' # Epson printer drivers for newer Workforce printers
    'system-config-printer'     # A CUPS printer configuration tool and status applet

    # Develop
    'awf-git'                   # Widget Factory for developing GTK themes, repo: CYBERLINUX
    'glade'                     # User Interface Builder for GTK+ applications
    'meld'                      # Develop/Diff Tool - Graphical diff tool cross platform
    'ripgrep'                   # A search tool combining the usability of ag with speed of grep, depof: vscode
    'virtualbox'                # Cross platform virtualization with UI
    'virtualbox-guest-iso'      # VirtualBox guest additions iso image
    'visual-studio-code-bin'    # Editor for modern development, repo: CYBERLINUX

    # Games
    'lib32-freetype2'           # TrueType font rendering library (32-bit)
    'lib32-libpulse'            # A featureful, general-purpose sound server (32-bit client libraries)
    'lib32-mpg123'              # A console based real time MPEG Audio Player for Layer 1, 2 and 3 (32-bit)
    'lib32-libusb'              # A cross-platform user library to access USB devices (32-bit)
    'winetricks'                # Script to install various redistributable runtime libraries in Wine
    'wine-gecko'                # Wine's built-in replacement for Microsoft's Internet Explorer
    'wine-mono'                 # Wine's built-in replacement for Microsoft's .NET Framework
    'zenity'                    # Display graphical dialog boxes from shell scripts

    # Graphics
    'inkscape'                  # Professional vector graphics editor

    # Media
    'asunder'                   # A lean and friendly audio CD ripper and encoder
    'audacity'                  # Audio editor - cross platform, tried and tested
    'avidemux-qt'               # Graphical tool to edit video (filter/re-encode/split) - Qt GUI
    'brasero'                   # Burning tool, alt: k3b, xfburn
    'devede'                    # A program to create VideoDVDs and CDs
    'handbrake'                 # Video encoding tool for mp4/mkv
    'handbrake-cli'             # Video encoding tool for mp4/mkv
    'kodi'                      # A software media player and entertainment hub for digital media
    'losslesscut-bin'           # Crossplatform GUI tool for lossless trimming/cuttong of video/audio files
    'mkvtoolnix-gui'            # Set of tools to create, edit and inspect MKV files
    'openshot'                  # Simple powerful Video Editor, alt: pitivi, kdenlive
    'simplescreenrecorder'      # Awesome screen recorder

    # Network
    'chromium'                  # Open source base of Google's Chrome browser
    'qbittorrent'               # BitTorrent client written in C++, based on Qt and libtorrent-rasterbar
    'synergy'                   # Share a single mouse and keyboard between multiple computers
    'zoom'                      # Video Conferencing and Web Conferencing Service

    # Office
    'fbreader'                  # An e-book reader for linux
    'hardinfo'                  # A system information and benchmark tool
    'id3v2'                     # Utility to edit id3v2 tags
    'kolourpaint'               # Paint application that saves jpg in format for GFXBoot
    'scribus'                   # Open Source Desktop Publishing

    # Personal use only licensing restriction
    'teamviewer'                # Excellent remoting software
    'ttf-ms-fonts'              # Core TTF Fonts from Microsoft
  )
  pkg desktop
}

package_cyberlinux-openbox-laptop()
{
  pkgdesc="Laptop system - built on top of desktop with laptop configuration"
  depends=(
    "cyberlinux-openbox-desktop>=${pkgver}"
  )
  pkg laptop
}

package_cyberlinux-openbox-live()
{
  pkgdesc="Live system - built on top of desktop for recovery"
  depends=(
    "cyberlinux-openbox-desktop>=${pkgver}"
  )
  pkg live
}
